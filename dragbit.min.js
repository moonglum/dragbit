(function(d){var b,c;c={fairlyHighZIndex:"10",draggable:function(a,b){a.css("position","absolute");b.mousedown(function(b){c.startDragging(b,a)})},addDocumentListeners:function(){document.addEventListener("selectstart",c.cancelDocumentSelection);document.addEventListener("mousemove",c.continueDragging);document.addEventListener("mouseup",c.stopDragging)},removeDocumentListeners:function(){document.removeEventListener("selectstart",c.cancelDocumentSelection);document.removeEventListener("mousemove",
c.continueDragging);document.removeEventListener("mouseup",c.stopDragging)},startDragging:function(a,e){c.bringToFront(e);b=e;c.moveCurrentElement(a,b.position());c.addDocumentListeners();b.trigger("dragStart",b.position())},continueDragging:function(a){c.moveCurrentElement(a,c.calculateNewPosition(a));b.trigger("dragging",b.position())},stopDragging:function(){c.removeDocumentListeners();b.trigger("dragStop",b.position())},bringToFront:function(a){b&&b.css("z-index",c.fairlyHighZIndex-1);a.css("z-index",
c.fairlyHighZIndex)},moveCurrentElement:function(a,c){b.css("left",c.left);b.css("top",c.top);b.data("lastXPosition",a.clientX);b.data("lastYPosition",a.clientY)},calculateNewPosition:function(a){var c=parseInt(b.css("left"),10),d=parseInt(b.css("top"),10);return{left:c+(a.clientX-b.data("lastXPosition")),top:d+(a.clientY-b.data("lastYPosition"))}},cancelDocumentSelection:function(a){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();return a.returnValue=!1}};d.fn.draggable=
function(a){a=d.extend({handle:this},a);c.draggable(this,a.handle);return this}})(jQuery);
