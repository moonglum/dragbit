(function(b,e){"function"===typeof window.define&&"object"===typeof window.define.amd?window.define(e):window[b]=e()})("draggable",function(){var b,e,j,h,f,g,k,l,i,m,n;e=function(a){a.draggableListeners={start:[],drag:[],stop:[]};a.whenDragStarts=f(a,"start");a.whenDragging=f(a,"drag");a.whenDragStops=f(a,"stop")};f=function(a,b){return function(c){a.draggableListeners[b].push(c)}};g=function(a,d){var c=!0;$.each(b.draggableListeners[a],function(){!1===this(d)&&(c=!1)});return c};m=function(){document.addEventListener("mousemove",
i);document.addEventListener("mouseup",h)};n=function(){document.removeEventListener("mousemove",i);document.removeEventListener("mouseup",h)};j=function(a,d){var c;b&&k(b);b=d;l(d);c=b.position();b.css("left",c.left);b.css("top",c.top);b.lastXPosition=a.clientX;b.lastYPosition=a.clientY;g("start",{x:c.left,y:c.top,mouseEvent:a})&&m()};i=function(a){var d=parseInt(b.css("left"),10),c=parseInt(b.css("top"),10),d=d+(a.clientX-b.lastXPosition),c=c+(a.clientY-b.lastYPosition);b.css("left",d);b.css("top",
c);b.lastXPosition=a.clientX;b.lastYPosition=a.clientY;g("drag",{x:d,y:c,mouseEvent:a})};h=function(a){n();g("stop",{x:parseInt(b.css("left"),10),y:parseInt(b.css("top"),10),mouseEvent:a})};k=function(a){a.css("z-index",9)};l=function(a){a.css("z-index","10")};return function(a,b){b=b||a;a.css("position","absolute");e(a);b.mousedown(function(b){j(b,a)})}});
