(function(b,f){"function"===typeof window.define&&"object"===typeof window.define.amd?window.define(f):window[b]=f()})("draggable",function(){var b,f,l,m,g,h,n,p,q,r,e,i,j,k;f=function(a){a.css("position","absolute")};l=function(a){a.draggableListeners={start:[],drag:[],stop:[]};a.whenDragStarts=g(a,"start");a.whenDragging=g(a,"drag");a.whenDragStops=g(a,"stop")};m=function(a,d){var c;b&&n(b);b=p(d);c=r(b);b.css("left",e(c.left));b.css("top",e(c.top));b.lastXPosition=a.clientX;b.lastYPosition=a.clientY;
h("start",{x:c.left,y:c.top,mouseEvent:a})&&q()};g=function(a,b){return function(c){a.draggableListeners[b].push(c)}};h=function(a,d){var c=!0,f=b.draggableListeners[a],e;for(e=f.length-1;0<=e;e-=1)!1===f[e](d)&&(c=!1);return c};n=function(a){a.css("z-index",9)};p=function(a){a.css("z-index","10");return a};q=function(){document.addEventListener("selectstart",i);document.addEventListener("mousemove",j);document.addEventListener("mouseup",k)};r=function(a){return a.position()};e=function(a){return a+
"px"};i=function(a){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();return a.returnValue=!1};j=function(a){var d,c;d=parseInt(b.css("left"),10);c=parseInt(b.css("top"),10);d+=a.clientX-b.lastXPosition;c+=a.clientY-b.lastYPosition;b.css("left",e(d));b.css("top",e(c));b.lastXPosition=a.clientX;b.lastYPosition=a.clientY;h("drag",{x:d,y:c,mouseEvent:a})};k=function(a){var d,c;document.removeEventListener("selectstart",i);document.removeEventListener("mousemove",j);document.removeEventListener("mouseup",
k);d=parseInt(b.css("left"),10);c=parseInt(b.css("top"),10);h("stop",{x:d,y:c,mouseEvent:a})};return function(a,b){b=b||a;f(a);l(a);b.mousedown(function(b){m(b,a)})}});
